<br/><br/>/*<br/> NOTE: If you are a casual user, just focus on the Client and Server classes (i.e. ignore this one).<br/> <br/> The NetworkClient class is intended to simplify interactions with the (1) Server class and (2) SFML's events.<br/> */<br/><br/>class NetworkClient {<br/>public:<br/>&nbsp;&nbsp;&nbsp;&nbsp;NetworkClient(ServerCommunicator& com);<br/>&nbsp;&nbsp;&nbsp;&nbsp;~NetworkClient();<br/>&nbsp;&nbsp;&nbsp;&nbsp;void applicationIsClosing();<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;void attemptConnectionToServer(sf::IpAddress serverIpAddress, unsigned short serverPort);<br/>&nbsp;&nbsp;&nbsp;&nbsp;void disconnect();<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;void networkUpdate();<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;/*<br/>&nbsp;&nbsp;&nbsp;&nbsp; 0 = no connection established<br/>&nbsp;&nbsp;&nbsp;&nbsp; 1 = connection being established<br/>&nbsp;&nbsp;&nbsp;&nbsp; 2 = connection established<br/>&nbsp;&nbsp;&nbsp;&nbsp; 3 = received tcp port from server<br/>&nbsp;&nbsp;&nbsp;&nbsp; -1 = connection failed<br/>&nbsp;&nbsp;&nbsp;&nbsp; */<br/>&nbsp;&nbsp;&nbsp;&nbsp;int getConnectionState();<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;void sendTcpMessage(std::string message);<br/>&nbsp;&nbsp;&nbsp;&nbsp;virtual void tcpMessageReceived(std::string message, long timeStamp) {};<br/>&nbsp;&nbsp;&nbsp;&nbsp;virtual void udpMessageReceived(std::string message, long timeStamp) {};<br/>&nbsp;&nbsp;&nbsp;&nbsp;void sendUdpMessage(std::string message);<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;unsigned short getLocalServerTcpPort();<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool keyPressed(sf::Keyboard::Key keyCode) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool keyReleased(sf::Keyboard::Key keyCode) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool mouseMoved(int x, int y) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool mousePressed(sf::Mouse::Button button, int x, int y) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool mouseReleased(sf::Mouse::Button button, int x, int y) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool mouseWheeled(int delta, int x, int y) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool resized(unsigned int width, unsigned int height) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool textEntered(sf::Uint32 character) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool otherEvent(sf::Event event) {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool draw() {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bool update() {return true;};<br/>&nbsp;&nbsp;&nbsp;&nbsp;void closing() {};<br/>&nbsp;&nbsp;&nbsp;&nbsp;long getTime();<br/>&nbsp;&nbsp;&nbsp;&nbsp;long getServerTime();<br/>private:<br/>&nbsp;&nbsp;&nbsp;&nbsp;int connectionState = 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;sf::TcpSocket tcpSocket;<br/>&nbsp;&nbsp;&nbsp;&nbsp;sf::UdpSocket udpSocket;<br/>&nbsp;&nbsp;&nbsp;&nbsp;unsigned short tcpPortOfServer;<br/>&nbsp;&nbsp;&nbsp;&nbsp;ServerCommunicator &communicator;<br/>&nbsp;&nbsp;&nbsp;&nbsp;sf::IpAddress ipAddressOfServer;<br/>&nbsp;&nbsp;&nbsp;&nbsp;unsigned short udpPortOfServer = 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;void sendOwnTcpServerMessageToQuit();<br/>&nbsp;&nbsp;&nbsp;&nbsp;long timeLastPingSent = 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;std::vector<long> estimatedClockDifferences;<br/>&nbsp;&nbsp;&nbsp;&nbsp;signed long estimateClockDiff();<br/>&nbsp;&nbsp;&nbsp;&nbsp;long serverToClientTime(long serverTime);<br/>};<br/><br/>